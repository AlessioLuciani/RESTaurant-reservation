{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?d92d","webpack:///./src/views/Login.vue?835e","webpack:///./src/views/Login.vue?8489"],"names":["class","style","for","type","value","to","loginType","updateLoginType","onSubmit","email","id","placeholder","required","responseError","length","password","signInSilently","this","user","url","xmlHttp","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","response","JSON","parse","responseText","undefined","error","localStorage","authToken","token","authEmail","authType","console","log","router","replace","send","stringify","components","render"],"mappings":"mKACOA,MAAM,Q,EACT,eAAwC,UAApC,mCAA+B,G,iBAChC,4B,iBAEyB,mB,SAEFC,MAAA,sB,iBAAwB,W,iBAEM,U,iBAAoB,oC,iBAO3E,W,iBACgC,U,iBAAoB,yB,GAG5CC,IAAI,c,EAGX,eAAM,mB,EAQN,eAAM,mB,SAGJD,MAAA,iCACAC,IAAI,yB,EAGN,eAAM,mB,EACN,eAAM,mB,EACN,eAA4C,SAArCA,IAAI,iBAAgB,aAAS,G,qBAAS,eAAM,mB,EAQnD,eAAM,mB,EACN,eAAM,mB,EACN,eAA8D,SAAvDD,MAAA,sBAAyBE,KAAK,SAASC,MAAM,S,6FAjDxD,eAmDM,MAnDN,EAmDM,CAlDJ,EACA,eAGI,U,EADF,eAAuD,GAA1CC,GAAG,WAAS,C,wBAAC,iBAAe,C,cAEzB,IAAT,EAAAC,W,iBAAT,eAII,IAJJ,EAII,C,EAFF,eAA0E,GAA7DD,GAAG,SAAc,QAAO,EAAAE,iB,yBAAiB,iBAAM,C,qDAI7C,IAAT,EAAAD,W,iBADR,eAMI,K,MAJG,QAAK,8BAAE,EAAAC,iBAAA,EAAAA,gBAAA,qBACZN,MAAA,sB,GAEM,eAA6C,GAAhCI,GAAG,UAAQ,C,wBAAC,iBAAM,C,uCAEvC,eAgCO,QAhCDJ,MAAA,sBAA8B,SAAM,8CAAU,EAAAO,UAAA,EAAAA,SAAA,qBAAQ,e,CAC1D,eAEC,QAFD,EAEC,eADc,IAAT,EAAAF,UAAS,iCAA6C,IAAC,GAE7D,E,eACA,eAME,S,qDALS,EAAAG,MAAK,IACdN,KAAK,QACLO,GAAG,aACHC,YAAY,sBACZC,SAAA,I,mBAJS,EAAAH,SAMX,EAEQ,EAAAI,cAAcC,OAAM,G,iBAD5B,eAKC,QALD,EAKC,eADK,EAAAD,eAAa,I,sBAEnB,EACA,EACA,E,EAA6C,E,eAC7C,eAME,S,qDALS,EAAAE,SAAQ,IACjBZ,KAAK,WACLO,GAAG,gBACHC,YAAY,YACZC,SAAA,I,mBAJS,EAAAG,YAMX,EACA,EACA,G,gICzCe,EAAK,wDAA1B,iD,0BACE,EAAAT,UAAY,EAEZ,EAAAG,MAAQ,GAER,EAAAM,SAAW,GAEX,EAAAF,cAAgB,GAPlB,EAA0B,8CASxB,WACE,OAAMG,mBAVgB,6BAaxB,WACEC,KAAKX,WAAaW,KAAKX,UAAY,GAAK,IAdlB,sBAiBxB,WAAQ,WACAY,EAAO,CACXT,MAAOQ,KAAKR,MACZM,SAAUE,KAAKF,UAGbI,EAAM,+BACa,IAAnBF,KAAKX,YACPa,EAAM,gCAGR,IAAMC,EAAU,IAAIC,eACpBD,EAAQE,KAAK,OAAQH,GAAK,GAC1BC,EAAQG,iBAAiB,eAAgB,kCACzCH,EAAQI,mBAAqB,WAC3B,GAA2B,IAAvBJ,EAAQK,WAAkB,CAC5B,IAAMC,EAAWC,KAAKC,MAAMR,EAAQS,cACpC,EAAKhB,cAAgB,QACEiB,IAAnBJ,EAASK,MACX,EAAKlB,cAAgBa,EAASK,OAE9BC,aAAaC,UAAYP,EAASQ,MAClCF,aAAaG,UAAYjB,EAAKT,MAC9BuB,aAAaI,SAAW,EAAK9B,UAC7B+B,QAAQC,IAAI,oBAAqBN,aAAaC,WAC9CM,EAAA,KAAOC,QAAQ,eAIrBpB,EAAQqB,KAAKd,KAAKe,UAAUxB,QA9CN,GAAS,QAAd,EAAK,gBAJzB,eAAQ,CACPyB,WAAY,MAGO,W,UCJrB,EAAOC,OAASA,EAED,gB,kCCPf","file":"js/chunk-ff80bc0a.6afc4031.js","sourcesContent":["<template>\n  <div class=\"main\">\n    <h1>Login to RESTaurant Reservation</h1>\n    <p>\n      Don't have an account?\n      <router-link to=\"/signup\"> Sign up here! </router-link>\n    </p>\n    <p v-if=\"loginType === 0\" style=\"margin-top: 5px\">\n      Click\n      <router-link to=\"/login\" v-on:click=\"updateLoginType\"> here </router-link>\n      if you are a restaurant owner.\n    </p>\n    <p\n      v-if=\"loginType === 1\"\n      v-on:click=\"updateLoginType\"\n      style=\"margin-top: 5px\"\n    >\n      Click <router-link to=\"/login\"> here </router-link> if you are a guest.\n    </p>\n    <form style=\"margin-top: 50px\" v-on:submit.prevent=\"onSubmit\">\n      <label for=\"user-email\"\n        >{{ loginType === 0 ? 'User email' : 'Restaurant email' }}:</label\n      >\n      <br />\n      <input\n        v-model=\"email\"\n        type=\"email\"\n        id=\"user-email\"\n        placeholder=\"johhn.doe@gmail.com\"\n        required\n      />\n      <br />\n      <label\n        v-if=\"responseError.length > 0\"\n        style=\"color: red; font-size: 12px\"\n        for=\"user-confirm-password\"\n        >{{ responseError }}</label\n      >\n      <br />\n      <br />\n      <label for=\"user-password\">Password:</label> <br />\n      <input\n        v-model=\"password\"\n        type=\"password\"\n        id=\"user-password\"\n        placeholder=\"query123@\"\n        required\n      />\n      <br />\n      <br />\n      <input style=\"margin-top: 50px\" type=\"submit\" value=\"Login\" />\n    </form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport router from '../router';\nimport Utils from '../utils';\n\n@Options({\n  components: {},\n})\n/* eslint class-methods-use-this: [\"error\", { \"exceptMethods\": [\"mounted\", \"signInSilently\"] }] */\nexport default class Login extends Vue {\n  loginType = 0;\n\n  email = '';\n\n  password = '';\n\n  responseError = '';\n\n  mounted() {\n    Utils.signInSilently();\n  }\n\n  updateLoginType() {\n    this.loginType = (this.loginType + 1) % 2;\n  }\n\n  onSubmit(): void {\n    const user = {\n      email: this.email,\n      password: this.password,\n    };\n\n    let url = 'http://localhost:12001/login';\n    if (this.loginType === 1) {\n      url = 'http://localhost:12002/login';\n    }\n\n    const xmlHttp = new XMLHttpRequest();\n    xmlHttp.open('POST', url, true);\n    xmlHttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    xmlHttp.onreadystatechange = () => {\n      if (xmlHttp.readyState === 4) {\n        const response = JSON.parse(xmlHttp.responseText);\n        this.responseError = '';\n        if (response.error !== undefined) {\n          this.responseError = response.error;\n        } else {\n          localStorage.authToken = response.token;\n          localStorage.authEmail = user.email;\n          localStorage.authType = this.loginType;\n          console.log('Current authToken', localStorage.authToken);\n          router.replace('/explore');\n        }\n      }\n    };\n    xmlHttp.send(JSON.stringify(user));\n  }\n}\n</script>\n\n<style>\n.main {\n  max-width: 700px;\n  height: 800px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  max-height: 100%;\n  overflow: auto;\n}\n\nform input {\n  min-width: 200px;\n  padding: 2px 10px 2px 10px;\n  font-size: 16px;\n}\n\nlabel {\n  font-size: 18px;\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component';\nimport router from '../router';\nimport Utils from '../utils';\n\n@Options({\n  components: {},\n})\n/* eslint class-methods-use-this: [\"error\", { \"exceptMethods\": [\"mounted\", \"signInSilently\"] }] */\nexport default class Login extends Vue {\n  loginType = 0;\n\n  email = '';\n\n  password = '';\n\n  responseError = '';\n\n  mounted() {\n    Utils.signInSilently();\n  }\n\n  updateLoginType() {\n    this.loginType = (this.loginType + 1) % 2;\n  }\n\n  onSubmit(): void {\n    const user = {\n      email: this.email,\n      password: this.password,\n    };\n\n    let url = 'http://localhost:12001/login';\n    if (this.loginType === 1) {\n      url = 'http://localhost:12002/login';\n    }\n\n    const xmlHttp = new XMLHttpRequest();\n    xmlHttp.open('POST', url, true);\n    xmlHttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    xmlHttp.onreadystatechange = () => {\n      if (xmlHttp.readyState === 4) {\n        const response = JSON.parse(xmlHttp.responseText);\n        this.responseError = '';\n        if (response.error !== undefined) {\n          this.responseError = response.error;\n        } else {\n          localStorage.authToken = response.token;\n          localStorage.authEmail = user.email;\n          localStorage.authType = this.loginType;\n          console.log('Current authToken', localStorage.authToken);\n          router.replace('/explore');\n        }\n      }\n    };\n    xmlHttp.send(JSON.stringify(user));\n  }\n}\n","import { render } from \"./Login.vue?vue&type=template&id=856d9914\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=856d9914&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=856d9914&lang=css\""],"sourceRoot":""}