{"version":3,"sources":["webpack:///./src/assets/557px-Barbieri_-_ViaSophia25668.jpg","webpack:///./src/views/Restaurant.vue","webpack:///./src/views/Restaurant.vue?b4b4","webpack:///./src/views/Restaurant.vue?76ce","webpack:///./src/views/Restaurant.vue?56f2","webpack:///./node_modules/core-js/modules/es.object.keys.js"],"names":["module","exports","class","style","src","for","type","value","currentRestaurant","nome","index","key","indirizzo","onSubmit","id","min","bookingData","guests","required","date","time","currentHour","currentMenu","item","meals","meal","idx","price","Date","toISOString","slice","underscoreCurrentRestaurant","exampleMenu","category","this","restaurantProvided","JSON","parse","$route","params","alert","router","replace","toLocaleTimeString","console","log","undefined","localStorage","authEmail","authToken","reservation","rest_email","email","service","seats","notes","status","xmlHttp","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","response","responseText","send","stringify","Object","keys","length","menu","picture","render","$","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","target","stat","forced","it"],"mappings":"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","file":"js/chunk-33358958.5d4f6868.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/557px-Barbieri_-_ViaSophia25668.ce76875b.jpg\";","<template>\n  <div class=\"maina\">\n    <h1>{{ currentRestaurant.nome }}</h1>\n    <span\n      class=\"fa fa-star\"\n      style=\"font-size: 20px\"\n      v-for=\"index in 5\"\n      :key=\"index\"\n      :class=\"{\n        checked:\n          index <= (currentRestaurant.rating ? currentRestaurant.rating : 3),\n      }\"\n    />\n    <h4>\n      {{\n        currentRestaurant.indirizzo\n          ? currentRestaurant.indirizzo\n          : 'Via Pietro Cavallini 25, 00193 Rome Italy'\n      }}\n    </h4>\n\n    <div style=\"margin-top: 50px; min-width: 1000px\">\n      <img\n        style=\"display: inline-block; width: 550px\"\n        src=\"../assets/557px-Barbieri_-_ViaSophia25668.jpg\"\n      />\n      <div style=\"height: 50px; min-width: 400px; float: right\">\n        <h2>Reserve a table</h2>\n        <br />\n        <form v-on:submit.prevent=\"onSubmit\">\n          <label for=\"guestNum\">Guests:</label> <br />\n          <input\n            id=\"guestNum\"\n            type=\"number\"\n            min=\"1\"\n            style=\"width: 220px\"\n            v-model=\"bookingData.guests\"\n            required\n          />\n          <br />\n          <br />\n          <label for=\"date\">Day:</label> <br />\n          <input\n            type=\"date\"\n            id=\"date\"\n            v-model=\"bookingData.date\"\n            :min=\"bookingData.date\"\n            style=\"width: 220px\"\n          />\n          <br />\n          <br />\n          <label for=\"time\">Time:</label> <br />\n          <input\n            type=\"time\"\n            id=\"time\"\n            v-model=\"bookingData.time\"\n            :min=\"currentHour\"\n            style=\"width: 220px\"\n            required\n          />\n          <br />\n          <br />\n          <br />\n          <input\n            style=\"padding: 5px 10px 5px 10px; width: 240px\"\n            type=\"submit\"\n            value=\"Book now\"\n          />\n        </form>\n      </div>\n    </div>\n    <br />\n    <br />\n    <div>\n      <h1>Menu</h1>\n      <br />\n      <div v-bind:key=\"index\" v-for=\"(item, index) in currentMenu\">\n        <h2>{{ item['category'] }}</h2>\n        <div class=\"column\" v-bind:key=\"idx\" v-for=\"(meal, idx) in item.meals\">\n          {{ meal.item }} - {{ meal.price }}\n        </div>\n        <br />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport router from '../router';\nimport Utils from '../utils';\n\ninterface Meal {\n    item: string,\n    price: string,\n}\n\ninterface Menu {\n    category: string,\n    meals: Array<Meal>,\n}\n\ninterface RestaurantObj {\n    id: string,\n    email: string,\n    nome: string,\n    indirizzo: string,\n    rating: string,\n    picture: string,\n    menu: Array<Menu>,\n}\n\n/* eslint class-methods-use-this: [\"error\", { \"exceptMethods\": [\"mounted\", \"currentHour\"] }] */\n/* eslint operator-linebreak: [2, \"after\"] */\nexport default class Restaurant extends Vue {\n  bookingData = {\n    guests: 1,\n    date: new Date().toISOString().slice(0, 10),\n    time: this.currentHour,\n  };\n\n  underscoreCurrentRestaurant = {};\n\n  exampleMenu = [\n    {\n      category: 'Antipasti',\n      meals: [\n        { item: 'prosciutto', price: '5.5$' },\n        { item: 'suppli', price: '1.5$' },\n      ],\n    },\n    {\n      category: 'Primi',\n      meals: [\n        { item: 'pasta al sugo', price: '2.5$' },\n        { item: 'pizza', price: '9.5$' },\n      ],\n    },\n    {\n      category: 'Secondi',\n      meals: [\n        { item: 'carne', price: '15.5$' },\n        { item: 'pesce', price: '11.5$' },\n      ],\n    },\n  ];\n\n  created() {\n    if (!this.restaurantProvided) {\n      // TODO: if available, query restaurantData API with the latest available restaurant\n      // an idea is to append restaurant id to the url and fetch the data\n      alert('No restaurant provided!');\n      router.replace('/');\n    } else {\n      this.underscoreCurrentRestaurant = JSON.parse(this.$route.params.nome as string);\n    }\n  }\n\n  get currentHour() {\n    return new Date().toLocaleTimeString().slice(0, 5);\n  }\n\n  onSubmit() {\n    console.log('Submitting the following order:');\n    console.log(this.bookingData);\n    if (\n      localStorage.authEmail === undefined ||\n      localStorage.authToken === undefined\n    ) {\n      console.log('You are not authenticated!');\n    }\n    const reservation = {\n      rest_email: (this.currentRestaurant as RestaurantObj).email,\n      date: this.bookingData.date,\n      service: '',\n      time: this.bookingData.time,\n      seats: this.bookingData.guests,\n      notes: '',\n      email: localStorage.authEmail,\n      status: 'pending',\n      authToken: localStorage.authToken,\n    };\n    const xmlHttp = new XMLHttpRequest();\n    xmlHttp.open('POST', 'http://localhost:12004/reserve', true);\n    xmlHttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    xmlHttp.onreadystatechange = () => {\n      if (xmlHttp.readyState === 4) {\n        const response = JSON.parse(xmlHttp.responseText);\n        console.log(response);\n      }\n    };\n    xmlHttp.send(JSON.stringify(reservation));\n\n    alert('Request of reservation correctly sent to the restaurant!');\n    router.replace('/');\n  }\n\n  get currentRestaurant() {\n    return this.underscoreCurrentRestaurant;\n  }\n\n  get restaurantProvided() {\n    return Object.keys(this.$route.params).length > 0;\n  }\n\n  get currentMenu() {\n    if (!this.restaurantProvided) {\n      return this.exampleMenu;\n    }\n    return (this.currentRestaurant as RestaurantObj).menu;\n  }\n\n  get restaurantPic() {\n    if (this.restaurantProvided) {\n      return (this.currentRestaurant as RestaurantObj).picture;\n    }\n    return '../assets/557px-Barbieri_-_ViaSophia25668.jpg';\n  }\n}\n</script>\n\n<style>\n@import url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css);\n.maina {\n  max-width: 1000px;\n  margin: auto;\n}\n\n.form-control {\n  width: 470px;\n  padding: 4px 10px 4px 40px;\n  font-size: 22px;\n  background: url('../assets/loupe.svg') no-repeat scroll 10px 8px;\n  background-size: 18px 18px;\n}\n\n.checked {\n  color: orange;\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component';\nimport router from '../router';\nimport Utils from '../utils';\n\ninterface Meal {\n    item: string,\n    price: string,\n}\n\ninterface Menu {\n    category: string,\n    meals: Array<Meal>,\n}\n\ninterface RestaurantObj {\n    id: string,\n    email: string,\n    nome: string,\n    indirizzo: string,\n    rating: string,\n    picture: string,\n    menu: Array<Menu>,\n}\n\n/* eslint class-methods-use-this: [\"error\", { \"exceptMethods\": [\"mounted\", \"currentHour\"] }] */\n/* eslint operator-linebreak: [2, \"after\"] */\nexport default class Restaurant extends Vue {\n  bookingData = {\n    guests: 1,\n    date: new Date().toISOString().slice(0, 10),\n    time: this.currentHour,\n  };\n\n  underscoreCurrentRestaurant = {};\n\n  exampleMenu = [\n    {\n      category: 'Antipasti',\n      meals: [\n        { item: 'prosciutto', price: '5.5$' },\n        { item: 'suppli', price: '1.5$' },\n      ],\n    },\n    {\n      category: 'Primi',\n      meals: [\n        { item: 'pasta al sugo', price: '2.5$' },\n        { item: 'pizza', price: '9.5$' },\n      ],\n    },\n    {\n      category: 'Secondi',\n      meals: [\n        { item: 'carne', price: '15.5$' },\n        { item: 'pesce', price: '11.5$' },\n      ],\n    },\n  ];\n\n  created() {\n    if (!this.restaurantProvided) {\n      // TODO: if available, query restaurantData API with the latest available restaurant\n      // an idea is to append restaurant id to the url and fetch the data\n      alert('No restaurant provided!');\n      router.replace('/');\n    } else {\n      this.underscoreCurrentRestaurant = JSON.parse(this.$route.params.nome as string);\n    }\n  }\n\n  get currentHour() {\n    return new Date().toLocaleTimeString().slice(0, 5);\n  }\n\n  onSubmit() {\n    console.log('Submitting the following order:');\n    console.log(this.bookingData);\n    if (\n      localStorage.authEmail === undefined ||\n      localStorage.authToken === undefined\n    ) {\n      console.log('You are not authenticated!');\n    }\n    const reservation = {\n      rest_email: (this.currentRestaurant as RestaurantObj).email,\n      date: this.bookingData.date,\n      service: '',\n      time: this.bookingData.time,\n      seats: this.bookingData.guests,\n      notes: '',\n      email: localStorage.authEmail,\n      status: 'pending',\n      authToken: localStorage.authToken,\n    };\n    const xmlHttp = new XMLHttpRequest();\n    xmlHttp.open('POST', 'http://localhost:12004/reserve', true);\n    xmlHttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    xmlHttp.onreadystatechange = () => {\n      if (xmlHttp.readyState === 4) {\n        const response = JSON.parse(xmlHttp.responseText);\n        console.log(response);\n      }\n    };\n    xmlHttp.send(JSON.stringify(reservation));\n\n    alert('Request of reservation correctly sent to the restaurant!');\n    router.replace('/');\n  }\n\n  get currentRestaurant() {\n    return this.underscoreCurrentRestaurant;\n  }\n\n  get restaurantProvided() {\n    return Object.keys(this.$route.params).length > 0;\n  }\n\n  get currentMenu() {\n    if (!this.restaurantProvided) {\n      return this.exampleMenu;\n    }\n    return (this.currentRestaurant as RestaurantObj).menu;\n  }\n\n  get restaurantPic() {\n    if (this.restaurantProvided) {\n      return (this.currentRestaurant as RestaurantObj).picture;\n    }\n    return '../assets/557px-Barbieri_-_ViaSophia25668.jpg';\n  }\n}\n","import { render } from \"./Restaurant.vue?vue&type=template&id=3fd4a441\"\nimport script from \"./Restaurant.vue?vue&type=script&lang=ts\"\nexport * from \"./Restaurant.vue?vue&type=script&lang=ts\"\n\nimport \"./Restaurant.vue?vue&type=style&index=0&id=3fd4a441&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Restaurant.vue?vue&type=style&index=0&id=3fd4a441&lang=css\"","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n"],"sourceRoot":""}